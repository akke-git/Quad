# 랜딩페이지 개선점 분석 및 제안

## 현재 상태 분석

### 기존 구조
- **전체 화면 서비스 카드**: 4x2 그리드 레이아웃으로 8개 서비스 카드가 대부분의 화면 공간 차지
- **Docker 중심 UI**: 각 카드마다 Docker 설정 보기 버튼과 상세한 그라디언트 디자인
- **단순 정보**: 서비스명, 설명, 아이콘만 표시

### 개선 목표에 따른 분석
요청하신 개선 방향:
1. 서비스 카드 크기 축소 → 상단/좌측 배치
2. 메인 콘텐츠로 서버 모니터링 정보 표시
3. 네트워크/보안 관련 시스템 정보 중심

## 핵심 개선 제안

### 1. 레이아웃 재구성
```
[Navbar]
[Compact Service Cards - Horizontal Strip]
[Main Content Area - Server Monitoring Dashboard]
```

**서비스 카드 축소안**:
- 현재: 대형 카드 (300x200px) → 소형 카드 (100x80px)
- 배치: 화면 상단 수평 스크롤 또는 좌측 사이드바
- 정보: 아이콘 + 서비스명만 표시
- Docker 설정 버튼 제거 또는 우클릭 메뉴로 이동

### 2. 메인 콘텐츠 영역 설계

**서버 모니터링 대시보드 구성**:

#### A. 시스템 상태 패널
- **호스트 정보**: OS, 가동시간, CPU/메모리 사용률
- **Docker 상태**: 컨테이너 실행 현황, 이미지 상태
- **디스크 사용량**: 스토리지 현황

#### B. 네트워크 & 보안 패널
- **도메인 상태**: 
  - juux.net (nginx 컨테이너)
  - 서브도메인들 (note.juux.net, photo.juux.net 등)
  - Cloudflare 연결 상태
- **NPM (Nginx Proxy Manager) 정보**:
  - 프록시 호스트 목록
  - SSL 인증서 상태
  - 트래픽 통계

#### C. 보안 모니터링 패널
- **접근 로그 분석**:
  - 실시간 접속자 수
  - 국가별 접속 통계
  - 의심스러운 IP 차단 현황
- **Bot 탐지**:
  - 크롤러/봇 접근 통계
  - 차단된 요청 수
  - DDoS 방어 현황

### 3. 필요한 API 개발

**새로운 API 엔드포인트**:
```
/api/system/
├── status          # 시스템 리소스 상태
├── docker          # Docker 컨테이너 상태
├── network         # 네트워크 상태 및 도메인 체크
├── security        # 보안 로그 및 통계
└── nginx-proxy     # NPM 상태 정보
```

### 4. 구체적인 구현 방안

#### 서비스 카드 컴포넌트 수정
```jsx
// CompactServiceCard.js - 새로운 컴팩트 서비스 카드
- 크기: 80x60px
- 정보: 아이콘 + 서비스명
- 호버 시 툴팁으로 상세 정보
- 상단 수평 스크롤 레이아웃
```

#### 모니터링 대시보드 컴포넌트
```jsx
// ServerMonitoringDashboard.js
├── SystemStatusPanel.js     # 시스템 리소스
├── NetworkStatusPanel.js    # 네트워크 상태
├── SecurityPanel.js         # 보안 모니터링
└── DockerStatusPanel.js     # Docker 상태
```

### 5. 데이터 수집 방법

**시스템 정보**:
- Linux 시스템 명령어 (top, df, free) → Node.js child_process
- Docker API → dockerode 라이브러리
- Nginx 로그 파싱 → 실시간 로그 분석

**네트워크 모니터링**:
- Cloudflare API 연동
- DNS 상태 체크 → ping, nslookup
- NPM API 연동 (가능한 경우)

**보안 모니터링**:
- Nginx 액세스 로그 분석
- IP 지역 정보 → GeoIP 데이터베이스
- 실시간 로그 스트리밍 → WebSocket

### 6. 우선순위별 구현 단계

**Phase 1 (핵심)**:
1. 서비스 카드 크기 축소 및 상단 배치
2. 기본 시스템 상태 표시 (CPU, 메모리, 디스크)
3. Docker 컨테이너 상태 표시

**Phase 2 (확장)**:
1. 네트워크 상태 모니터링
2. 도메인 상태 체크
3. 기본 보안 로그 분석

**Phase 3 (고급)**:
1. 실시간 트래픽 모니터링
2. 지역별 접속 통계
3. 자동화된 보안 알림

## 구현 상태

- [x] **Phase 1: 기본 레이아웃 및 시스템 모니터링** ✅ 완료
  - [x] 컴팩트 서비스 카드 컴포넌트 (`CompactServiceCard.js`)
  - [x] 메인 페이지 레이아웃 재구성 (상단 수평 스크롤 서비스 카드)
  - [x] 시스템 상태 API (`/api/system/status`) - CPU, 메모리, 디스크, 가동시간
  - [x] Docker 상태 API (`/api/system/docker`) - 컨테이너, 이미지, 볼륨, 네트워크
  - [x] 시스템 모니터링 대시보드 컴포넌트들
    - [x] `SystemStatusPanel.js` - 실시간 시스템 리소스 모니터링
    - [x] `DockerStatusPanel.js` - Docker 컨테이너 상태 모니터링

- [x] **Phase 2: 네트워크 및 보안 모니터링** ✅ 완료
  - [x] 네트워크 상태 API (`/api/system/network`) - 도메인 상태, DNS, Nginx 프록시
  - [x] 보안 모니터링 API (`/api/system/security`) - 접근 로그, 보안 이벤트, 방화벽
  - [x] 네트워크 상태 패널 (`NetworkStatusPanel.js`) - 실시간 도메인 및 서비스 모니터링
  - [x] 보안 모니터링 패널 (`SecurityPanel.js`) - 보안 이벤트 및 접근 통계

- [ ] **Phase 3: 고급 모니터링 및 알림**
  - [ ] 실시간 트래픽 모니터링
  - [ ] 지역별 접속 통계
  - [ ] 자동화된 보안 알림
  - [ ] WebSocket을 통한 실시간 업데이트

## Phase 1 구현 완료 사항

### 🎯 주요 성과
1. **서비스 카드 크기 축소**: 기존 대형 카드 → 80x60px 컴팩트 카드로 변경
2. **레이아웃 최적화**: 서비스 카드를 상단 수평 스크롤로 이동, 메인 영역 확보
3. **실시간 모니터링**: 시스템 리소스와 Docker 상태를 30초마다 자동 업데이트
4. **직관적 UI**: 진행률 바, 상태 색상 코딩, 애니메이션 효과 적용

### 🔧 기술적 구현
- **API 엔드포인트**: Linux 시스템 명령어를 활용한 실시간 데이터 수집
- **React Hooks**: `useState`, `useEffect`를 활용한 상태 관리 및 자동 업데이트
- **에러 처리**: API 실패 시 재시도 기능 및 사용자 친화적 에러 메시지
- **반응형 디자인**: 모바일부터 데스크톱까지 최적화된 그리드 레이아웃

### 📊 Phase 1 모니터링 기능
- **시스템 상태**: CPU 사용률, 메모리 사용량, 디스크 사용량, 시스템 가동시간
- **Docker 상태**: 실행 중인 컨테이너 수, 전체 컨테이너 수, 이미지 및 볼륨 정보
- **실시간 업데이트**: 30초 간격 자동 갱신, 마지막 업데이트 시간 표시
- **상태 표시**: 사용률에 따른 색상 코딩 (녹색: 정상, 노란색: 주의, 빨간색: 위험)

## Phase 2 구현 완료 사항

### 🌐 네트워크 모니터링
1. **도메인 상태 체크**: 모든 서브도메인 실시간 모니터링 (juux.net, note.juux.net 등)
2. **응답 시간 측정**: 각 도메인별 응답 시간 및 성능 모니터링
3. **SSL 인증서 상태**: HTTPS 연결 및 SSL 인증서 유효성 확인
4. **DNS 해석 테스트**: DNS 서버 상태 및 도메인 해석 성능 체크

### 🔒 보안 모니터링
1. **접근 로그 분석**: 실시간 웹 서버 접근 통계 및 의심스러운 요청 탐지
2. **인증 실패 추적**: SSH 및 웹 인증 실패 시도 모니터링 (24시간 기준)
3. **방화벽 상태**: 시스템 및 Docker 방화벽 규칙 현황
4. **보안 이벤트**: 실시간 보안 관련 로그 이벤트 수집 및 분석

### 🔧 Nginx 프록시 관리
1. **NPM 컨테이너 모니터링**: Nginx Proxy Manager 컨테이너 상태 및 리소스 사용량
2. **프록시 호스트 상태**: 역방향 프록시 설정 및 상태 확인
3. **네트워크 통계**: 활성 연결 수, 네트워크 인터페이스, 트래픽 통계

### 🔐 보안 설정
- **프라이버시 보호**: `ENABLE_SECURITY_MONITORING=true` 환경변수로 보안 모니터링 활성화 제어
- **민감한 정보 보호**: 로그 분석 시 개인정보 및 민감한 데이터 필터링
- **에러 핸들링**: 권한 부족 시 안전한 대체 정보 제공

이러한 개선을 통해 기존의 단순한 서비스 링크 모음에서 실제 서버 관리에 유용한 모니터링 대시보드로 전환할 수 있을 것입니다.